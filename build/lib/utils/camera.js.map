{
  "version": 3,
  "sources": ["../../../src/lib/utils/camera.ts"],
  "sourcesContent": ["import P100 from \"./p100\";\nimport { LightSysinfo } from \"./types\";\n\nexport default class camera extends P100 {\n  constructor(\n    public readonly log: any,\n    public readonly ipAddress: string,\n    public readonly email: string,\n    public readonly password: string,\n    public readonly timeout: number,\n  ) {\n    super(log, ipAddress, email, password, timeout);\n    this.log.debug(\"Constructing Camera on host: \" + ipAddress);\n  }\n\n  async getDeviceInfo(): Promise<LightSysinfo> {\n    return super.getDeviceInfo().then(() => {\n      return this.getSysInfo();\n    });\n  }\n\n  async setAlertConfig(enabled: boolean): Promise<boolean> {\n    const enabledString = enabled ? \"on\" : \"off\";\n    const payload = `{\n      \"method\": \"multipleRequest\",\n      \"params\": {\n        \"requests\": [\n          {\n      \"method\": \"setAlertConfig\",\n      \"params\": {\n        \"msg_alarm\": {\n          \"chn1_msg_alarm_info\": {\n            \"alarm_type\": \"0\",\n            \"alarm_mode\": [\"sound\"],\n            \"enabled\": \"${enabledString}\",\n            \"light_type\": \"1\"\n          }\n        },\n        \"requestTimeMils\": ${Math.round(Date.now() * 1000)}\n      }\n    }]}}`;\n    return this.sendRequest(payload);\n  }\n  async setLensMaskConfig(enabled: boolean): Promise<boolean> {\n    const enabledString = enabled ? \"on\" : \"off\";\n    const payload = `{\n      \"method\": \"multipleRequest\",\n      \"params\": {\n        \"requests\": [\n          {\n      \"method\": \"setLensMaskConfig\",\n      \"params\": {\n        \"lens_mask\": {\n          \"lens_mask_info\": {\n            \"enabled\": \"${enabledString}\"\n          }\n        },\n        \"requestTimeMils\": ${Math.round(Date.now() * 1000)}\n      }\n    }]}}`;\n    return this.sendRequest(payload);\n  }\n\n  protected setSysInfo(sysInfo: LightSysinfo) {\n    this._lightSysInfo = sysInfo;\n    this._lightSysInfo.last_update = Date.now();\n  }\n\n  public getSysInfo(): LightSysinfo {\n    return this._lightSysInfo;\n  }\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAiB;AAGjB,MAAO,eAA6B,YAAAA,QAAK;AAAA,EACvC,YACkB,KACA,WACA,OACA,UACA,SAChB;AACA,UAAM,KAAK,WAAW,OAAO,UAAU,OAAO;AAN9B;AACA;AACA;AACA;AACA;AAGhB,SAAK,IAAI,MAAM,kCAAkC,SAAS;AAAA,EAC5D;AAAA,EAEA,MAAM,gBAAuC;AAC3C,WAAO,MAAM,cAAc,EAAE,KAAK,MAAM;AACtC,aAAO,KAAK,WAAW;AAAA,IACzB,CAAC;AAAA,EACH;AAAA,EAEA,MAAM,eAAe,SAAoC;AACvD,UAAM,gBAAgB,UAAU,OAAO;AACvC,UAAM,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAWM;AAAA;AAAA;AAAA;AAAA,6BAIG,KAAK,MAAM,KAAK,IAAI,IAAI,GAAI;AAAA;AAAA;AAGrD,WAAO,KAAK,YAAY,OAAO;AAAA,EACjC;AAAA,EACA,MAAM,kBAAkB,SAAoC;AAC1D,UAAM,gBAAgB,UAAU,OAAO;AACvC,UAAM,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BASM;AAAA;AAAA;AAAA,6BAGG,KAAK,MAAM,KAAK,IAAI,IAAI,GAAI;AAAA;AAAA;AAGrD,WAAO,KAAK,YAAY,OAAO;AAAA,EACjC;AAAA,EAEU,WAAW,SAAuB;AAC1C,SAAK,gBAAgB;AACrB,SAAK,cAAc,cAAc,KAAK,IAAI;AAAA,EAC5C;AAAA,EAEO,aAA2B;AAChC,WAAO,KAAK;AAAA,EACd;AACF;",
  "names": ["P100"]
}
